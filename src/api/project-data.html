<link rel="import" href="./../../bower_components/polymerfire/firebase-database-script.html">

<script>
    const db = firebase.database()

    const projectDb = {}

    projectDb.checkKey = key => {
        var isExisted = false
        db.ref('/projects/').child(key).once('value', snapshot => {
            isExisted = snapshot.exists()
        });
        return isExisted
    }

    projectDb.getByKey = key => {
        return db.ref('/projects/' + key).once('value')
    }

    projectDb.save = (data) => {
        const key = db.ref().child('/projects/').push().key;
        return db.ref('/projects/' + key).set(data)
    }

    projectDb.update = (key, data) => {
        return db.ref('/projects/' + key).update(data)
    }

    projectDb.deleteByKey = key => {
        return db.ref('/projects/' + key).remove()
    }

</script>